<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>City Image Recognition</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">Main</a>
					</header>

				<!-- Nav -->
				<nav id="nav">
					<ul class="links">
						<li class="active"><a href="index.html">Projects</a></li>
						<li><a href="about.html">About Me</a></li>
						<li><a href="contact.html">Contact</a></li>
						<li><a target="_blank" href="curry_resume_3_2020.pdf">Resume PDF</a></li>
					</ul>
					<ul class="icons">
						<li><a href="https://www.linkedin.com/in/michael-curry-7ab92118a/" class="icon brands alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
						<li><a href="https://medium.com/@mdcurry1138" class="icon brands alt fa-medium"><span class="label">Medium</span></a></li>
						<li><a href="https://twitter.com/MikeDCurry" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="https://github.com/mikedcurry" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
					</ul>
				</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">

									<h1>Image Recognition Applied to City Photos<br /></h1>
								</header>
								<p> A CNN for image recognition is trained on results from Google Images API for 
									city names. The array of probabilities provided by a softmax output layer are 
									examined to determine subtle similarities between cities. The plans for a "City 
									Vibes" swiping app are here discussed.
								</p>
								<p>
									I started small with just nine photos between three cities. I put the photos 
									in folders in the same root directory as my project notebooks. Once I had 
									everything working on this micro-set, I went to work on pulling photos from the 
									google images API. After some searching, I came upon a fairly simple script that 
									allowed me to download multiple images from google for each city all at once. 
									https://github.com/hardikvasa/google-images-download
								</p>
                                <p><span class="image right"><img src="images\city_files.jpeg" alt="" /></span>

								<p>
									With my newly adopted script, I could fill my city folders with as many random 
									city photos as I specified. Again, I took the road of simplicity and only did 
									four photos for each of the 256 cities. Good thing I went small, because it took 
									me several hours to download these with my poor connection.
								</p>
                                <p>
									I decided to force all of my photos to be the same size. Maybe there is another 
									way of doing this, but figured that the input vectors were all going need to be 
									the same when they got plugged into the Neural Net. For this I used a prepossessing 
									tool from Keras. Again I started small with a resolution of 224 by 224 by 3 
									(for colors). I'm not sure if there is any reason for this size exactly, but I found 
									that a lot of instances of Keras use this exact size so I superstitiously followed 
									the apparent convention.
								</p>
								<!-- Preformatted Code -->
								<pre><code>from tensorflow.keras.preprocessing import image
def process_img_path(img_path): 
	return image.load_img(img_path, target_size=(224, 224))</code></pre>

								<p>
									Loading one of my photos to take a look:
								</p>

								<pre><code>image.load_img('./data/santa_fe/sfe1.jpg', target_size=(224,224))</code></pre>
								<p><span class="image left"><img src="images\city_sample_pic.png" alt="" /></span>

								<p>
									Then I wrote a short function to apply this size requirement to each photo as it adds 
									them as an array of values to a X vector.
								</p>
								<br>
								<br>
								<pre><code>data = []

for i in ['columbus', 'portland', 'santa_fe']:
	for file in os.listdir('./data/'+i):
	#         print(file) #to check if right files...
		if file[-3:] == 'jpg':
			path = os.path.join(f'./data/{i}/' + file)
			img = process_img_path(path)
			x = image.img_to_array(img)
			
			data.append(x)
	#             print(x)</code></pre>
								<p>
									For fun, we can take a peak at our vectorized photos:	
								</p>
								<p><span class="image left"><img src="images\city_vect_pic.png" alt="" /></span>
								
								<br>
								</br>
								<br>
								</br>
								<br>
								</br>
								<br>
								</br>
								<p>
									Taking a quick look at the shape of this array, shows us that we have 9 photos, each 
									being 224 by 224 pixles in 3 colors dimensions. Golden. Later the first number became 
									256 * n, the number of photos hosted per city.
								</p>
				<!-- Footer -->
				<footer id="footer">
					<!-- <section>
						<form method="post" action="#">
							<div class="fields">
								<div class="field">
									<label for="name">Name</label>
									<input type="text" name="name" id="name" />
								</div>
								<div class="field">
									<label for="email">Email</label>
									<input type="text" name="email" id="email" />
								</div>
								<div class="field">
									<label for="message">Message</label>
									<textarea name="message" id="message" rows="3"></textarea>
								</div>
							</div>
							<ul class="actions">
								<li><input type="submit" value="Send Message" /></li>
							</ul>
						</form>
					</section>
					<section class="split contact"> -->
						<!-- <section class="alt">
							<h3>Address</h3>
							<p>1234 Somewhere Road #87257<br />
							Nashville, TN 00000-0000</p>
						</section> -->
						<section class="split contact">
							<section>
								<h3>Phone</h3>
								<p><a href="tel:+15757709143">(575) 770-9143</a></p>
							</section>
							<section>
								<h3>Email</h3>
								<p><a href="#">mikecurry.ds@gmail.com</a></p>
							</section>
							<section>
								<h3>Social</h3>
								<ul class="icons alt">
									<li><a href="https://www.linkedin.com/in/michael-curry-7ab92118a/" class="icon brands alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
									<li><a href="https://medium.com/@mdcurry1138" class="icon brands alt fa-medium"><span class="label">Medium</span></a></li>
									<li><a href="https://twitter.com/MikeDCurry" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="https://github.com/mikedcurry" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
								</ul>
							</section>
					</section>
				</footer>

			<!-- Copyright -->
				<div id="copyright">
					<ul><li>Michael Curry</li><li>Data Scientist</li></ul>
				</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>